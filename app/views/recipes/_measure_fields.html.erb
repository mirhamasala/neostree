<%= content_tag :div, class: "nested-fields flex mb-4", data: { new_record: f.object.new_record?, id: f.object.id } do %>
  <div class="flex">
    <div class="mr-4">
      <%= f.hidden_field :id %>
      <%= f.label :quantity %>
      <%= f.text_field :quantity %>
    </div>

    <div class="mr-4">
      <%= f.hidden_field :id %>
      <%= f.label :unit %>
      <%= f.collection_select :unit_id, Unit.all.alphabetize, :id, :name, { include_blank: true } %>
    </div>

    <div class="mr-4">
      <%= f.hidden_field :id %>
      <%= f.label :ingredient %>
      <%= f.text_field :ingredient %>
    </div>
  </div>

  <%= link_to "Delete", "#", data: { action: "click->new-fields#removeField" },
        class: "self-end block text-sm text-sand-500 text-right hover:text-sand-400 hover:underline" %>
  <%= f.hidden_field :_destroy %>
<% end %>
